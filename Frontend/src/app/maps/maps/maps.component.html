<div class="map">
  <agm-map [latitude]="lat" [longitude]="lng" [styles]="styles" (mapClick)="mapClick($event)">
    <agm-marker *ngFor="let device of devices" [latitude]="device.latitude" [longitude]="device.longitude">
    </agm-marker>

    <agm-marker *ngFor="let device of newDevices" [latitude]="device.latitude" [longitude]="device.longitude">
    </agm-marker>

    <agm-direction *ngIf="directions" [origin]="origin" [destination]="destination">
    </agm-direction>
  </agm-map>
</div>